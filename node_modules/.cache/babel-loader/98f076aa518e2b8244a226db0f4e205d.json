{"ast":null,"code":"import _regeneratorRuntime from\"/Users/gomillion/sei-monstera/projects/MomMade/MomMade-frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/gomillion/sei-monstera/projects/MomMade/MomMade-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/gomillion/sei-monstera/projects/MomMade/MomMade-frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/gomillion/sei-monstera/projects/MomMade/MomMade-frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/gomillion/sei-monstera/projects/MomMade/MomMade-frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/gomillion/sei-monstera/projects/MomMade/MomMade-frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/gomillion/sei-monstera/projects/MomMade/MomMade-frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Form,Button}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var baseUrl='';if(process.env.NODE_ENV==='development'){baseUrl='http://localhost:3005';}else{baseUrl='https://proj4-mommadecustoms-api.herokuapp.com/';}var LoginPage=/*#__PURE__*/function(_Component){_inherits(LoginPage,_Component);var _super=_createSuper(LoginPage);function LoginPage(props){var _this;_classCallCheck(this,LoginPage);_this=_super.call(this,props);_this.handleChange=function(event){_this.setState(_defineProperty({},event.target.id,event.target.value));};_this.loginUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var url,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();url=baseUrl+'/user/login';_context.prev=2;_context.next=5;return fetch(url,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:_this.state.username,password:_this.state.password}),credentials:\"include\"});case 5:response=_context.sent;if(response.status===200){console.log(\"User is Logged In\");_this.props.setUser(_this.state.username);if(_this.state.username==='corey'){_this.props.setPage('admin');}_this.props.setPage('home');}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](2);console.log('Error => ',_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[2,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={username:'',password:''};return _this;}_createClass(LoginPage,[{key:\"render\",value:function render(){console.log(this.state);return/*#__PURE__*/_jsxs(\"div\",{id:\"login-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsxs(Form,{id:\"login-form\",onSubmit:this.loginUser,children:[/*#__PURE__*/_jsx(Form.Group,{controlId:\"username\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Username\",onChange:this.handleChange})}),/*#__PURE__*/_jsx(Form.Group,{controlId:\"password\",children:/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",onChange:this.handleChange})}),/*#__PURE__*/_jsx(Button,{id:\"login-btn\",variant:\"primary\",type:\"submit\",children:\"Login\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{})]});}}]);return LoginPage;}(Component);export default LoginPage;","map":{"version":3,"sources":["/Users/gomillion/sei-monstera/projects/MomMade/MomMade-frontend/src/pages/LoginPage.js"],"names":["React","Component","Form","Button","baseUrl","process","env","NODE_ENV","LoginPage","props","handleChange","event","setState","target","id","value","loginUser","preventDefault","url","fetch","method","headers","body","JSON","stringify","username","state","password","credentials","response","status","console","log","setUser","setPage"],"mappings":"6+BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,MAAf,KAA6B,iBAA7B,C,wFAEA,GAAIC,CAAAA,OAAO,CAAG,EAAd,CAEA,GAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,GAAyB,aAA7B,CAA4C,CAC1CH,OAAO,CAAG,uBAAV,CACD,CAFD,IAEO,CACLA,OAAO,CAAG,iDAAV,CACD,C,GAGKI,CAAAA,S,sGACJ,mBAAYC,KAAZ,CAAmB,2CACjB,uBAAMA,KAAN,EADiB,MAUnBC,YAVmB,CAUJ,SAACC,KAAD,CAAW,CACxB,MAAKC,QAAL,oBACKD,KAAK,CAACE,MAAN,CAAaC,EADlB,CACwBH,KAAK,CAACE,MAAN,CAAaE,KADrC,GAGD,CAdkB,OAgBnBC,SAhBmB,0FAgBP,iBAAOL,KAAP,mIACVA,KAAK,CAACM,cAAN,GAEMC,GAHI,CAGEd,OAAO,CAAG,aAHZ,uCAMee,CAAAA,KAAK,CAACD,GAAD,CAAM,CAChCE,MAAM,CAAE,MADwB,CAEhCC,OAAO,CAAE,CACP,eAAgB,kBADT,CAFuB,CAKhCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACjBC,QAAQ,CAAE,MAAKC,KAAL,CAAWD,QADJ,CAEjBE,QAAQ,CAAE,MAAKD,KAAL,CAAWC,QAFJ,CAAf,CAL0B,CAShCC,WAAW,CAAE,SATmB,CAAN,CANpB,QAMFC,QANE,eAkBR,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CAC3BC,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACA,MAAKvB,KAAL,CAAWwB,OAAX,CAAmB,MAAKP,KAAL,CAAWD,QAA9B,EACA,GAAI,MAAKC,KAAL,CAAWD,QAAX,GAAwB,OAA5B,CAAqC,CACjC,MAAKhB,KAAL,CAAWyB,OAAX,CAAmB,OAAnB,EACH,CACD,MAAKzB,KAAL,CAAWyB,OAAX,CAAmB,MAAnB,EAGH,CA3BS,+EA8BRH,OAAO,CAACC,GAAR,CAAY,WAAZ,cA9BQ,oEAhBO,+DAGjB,MAAKN,KAAL,CAAa,CACXD,QAAQ,CAAE,EADC,CAEXE,QAAQ,CAAE,EAFC,CAAb,CAHiB,aAQlB,C,4CA2CD,iBAAS,CACPI,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAjB,EACA,mBACE,aAAK,EAAE,CAAC,iBAAR,wBACE,6BADF,cAEE,MAAC,IAAD,EAAM,EAAE,CAAC,YAAT,CAAsB,QAAQ,CAAE,KAAKV,SAArC,wBACE,KAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,UAAtB,uBACE,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,MAAnB,CAA0B,WAAW,CAAC,UAAtC,CAAiD,QAAQ,CAAE,KAAKN,YAAhE,EADF,EADF,cAKE,KAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,UAAtB,uBACE,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,UAAnB,CAA8B,WAAW,CAAC,UAA1C,CAAqD,QAAQ,CAAE,KAAKA,YAApE,EADF,EALF,cAQE,KAAC,MAAD,EAAQ,EAAE,CAAC,WAAX,CAAuB,OAAO,CAAC,SAA/B,CAAyC,IAAI,CAAC,QAA9C,mBARF,GAFF,cAcE,aAdF,cAgBE,aAhBF,cAiBE,aAjBF,cAkBE,aAlBF,cAmBE,aAnBF,cAoBE,aApBF,cAqBE,aArBF,cAsBE,aAtBF,GADF,CA2BD,C,uBAjFqBT,S,EAoFxB,cAAeO,CAAAA,SAAf","sourcesContent":["import React, { Component } from 'react'\nimport { Form, Button } from 'react-bootstrap'\n\nlet baseUrl = ''\n\nif (process.env.NODE_ENV === 'development') {\n  baseUrl = 'http://localhost:3005'\n} else {\n  baseUrl = 'https://proj4-mommadecustoms-api.herokuapp.com/'\n}\n\n\nclass LoginPage extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      username: '',\n      password: '',\n      \n    }\n  }\n\n  handleChange = (event) => {\n    this.setState({ \n        [event.target.id] : event.target.value \n    })\n  }\n\n  loginUser = async (event) => {\n    event.preventDefault()\n\n    const url = baseUrl + '/user/login'\n    \n    try {\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n            username: this.state.username,\n            password: this.state.password\n        }),\n        credentials: \"include\" \n      })\n\n      if (response.status === 200) {\n        console.log(\"User is Logged In\")\n        this.props.setUser(this.state.username)\n        if (this.state.username === 'corey') {\n            this.props.setPage('admin')\n        } \n        this.props.setPage('home')\n        \n       \n    }\n    }\n    catch (err) {\n      console.log('Error => ', err);\n    }\n\n  }\n\n  render() {\n    console.log(this.state)\n    return(\n      <div id=\"login-container\">\n        <h1>Login</h1>\n        <Form id=\"login-form\" onSubmit={this.loginUser}>\n          <Form.Group controlId=\"username\">\n            <Form.Control type=\"text\" placeholder=\"Username\" onChange={this.handleChange} />\n          </Form.Group>\n\n          <Form.Group controlId=\"password\">\n            <Form.Control type=\"password\" placeholder=\"Password\" onChange={this.handleChange} />\n          </Form.Group>\n          <Button id=\"login-btn\" variant=\"primary\" type=\"submit\">\n            Login\n          </Button>\n        </Form>\n        <br/>\n        \n        <br/>\n        <br/>\n        <br/>\n        <br/>\n        <br/>\n        <br/>\n        <br/>\n      </div>\n      \n    )\n  }\n}\n\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}